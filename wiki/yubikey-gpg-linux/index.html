<!doctype html><html lang=en><head><title>Yubikey-GPG on linux :: stumbl.ing</title>
<meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Table of Contents Yubikey-SSH Important Links TLDR; man 1 gpg
What started as two independent efforts trying to get yubikey-ssh and gpg-signed-git commits turned into 1 combined effort.
Yubikey-SSH Requirements:
openssh build with support for security keys On Gentoo: Lang: shell Copy USE=security-key emerge -aq net-misc/openssh Then you unlock the ability to create new ssh-keys with the *-sk suffix. You also probably want to add the options to make the key resident on the key and to require authorization every time a la:"><meta name=keywords content><meta name=robots content="noodp"><link rel=canonical href=https://stumbl.ing/wiki/yubikey-gpg-linux/><meta property="og:locale" content="en"><meta property="og:title" content="Yubikey-GPG on linux :: stumbl.ing"><meta property="og:description" content="Table of Contents Yubikey-SSH Important Links TLDR; man 1 gpg
What started as two independent efforts trying to get yubikey-ssh and gpg-signed-git commits turned into 1 combined effort.
Yubikey-SSH Requirements:
openssh build with support for security keys On Gentoo: Lang: shell Copy USE=security-key emerge -aq net-misc/openssh Then you unlock the ability to create new ssh-keys with the *-sk suffix. You also probably want to add the options to make the key resident on the key and to require authorization every time a la:"><meta property="og:type" content="article"><meta property="article:published_time" content="2023-12-28 00:00:00 +0000 UTC"><meta property="article:modified_time" content="2023-12-28 00:00:00 IST"><meta property="article:author" content="[lockbox]"><meta property="og:url" content="https://stumbl.ing/wiki/yubikey-gpg-linux/"><meta property="og:site_name" content="stumbl.ing"><meta property="og:image" content><meta property="og:image:width" content="2048"><meta property="og:image:height" content="1024"><link rel="shortcut icon" href><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Sans:ital,wght@0,300;0,400;0,500;1,300;1,400;1,500&family=Roboto+Slab:wght@300;400;500&family=Ubuntu+Mono:ital@0;1&display=swap" rel=stylesheet><link href=/wiki/yubikey-gpg-linux/ rel=alternate type=application/rss+xml title=stumbl.ing><link rel=stylesheet href=https://stumbl.ing/styles.29af3893b7938b7f6bf3bcbb6ce52dcdccce363e03bb52292e3943e8c96a5443.css integrity="sha256-Ka84k7eTi39r87y7bOUtzczONj4Du1IpLjlD6MlqVEM="></head><body><div class=theme-container><div class=container><header class=site-header><nav class=navbar><div class=navbar__first><ul class="navbar__list borders"><li><a href=https://stumbl.ing/>Home</a></li><li><button class="theme-toggle transparent"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 41c10.4934.0 19-8.5066 19-19C41 11.5066 32.4934 3 22 3 11.5066 3 3 11.5066 3 22s8.5066 19 19 19zM7 22C7 13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22z"/></svg></button></li></ul></div><div class=navbar__separator></div><div class=navbar__last><ul class="navbar__list borders menu--desktop"><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li><li><a href=/wiki/>Wiki</a></li></ul><ul class="menu menu--mobile"><li class=menu-trigger>===</li><li><ul class=menu-dropdown><li><a href=/about/>About</a></li><li><a href=/posts/>Posts</a></li><li><a href=/wiki/>Wiki</a></li></ul></li></ul></div></nav></header><main class=site-main><article class=post><header class=post-header><h1 class=post-title><a href=https://stumbl.ing/wiki/yubikey-gpg-linux/>Yubikey-GPG on linux</a></h1><address class=post-meta><time pubdate datetime="2023-12-28 00:00:00 IST">Published on
2023-12-28 00:00:00 IST
</time><span>by [lockbox]</span>
<time pubdate datetime="2023-12-28 00:00:00 IST">last modified 2023-12-28 00:00:00 IST.</time></address></header><div class=post-content><div class="ox-hugo-toc toc"><div class=heading>Table of Contents</div><ul><li><a href=#yubikey-ssh>Yubikey-SSH</a></li><li><a href=#important-links>Important Links</a></li></ul></div><p>TLDR; <code>man 1 gpg</code></p><p>What started as two independent efforts trying to get yubikey-ssh and gpg-signed-git commits
turned into 1 combined effort.</p><h2 id=yubikey-ssh>Yubikey-SSH
<a href=#yubikey-ssh class=hanchor arialabel=Anchor></a></h2><p>Requirements:</p><ul><li><code>openssh</code> build with support for security keys
On Gentoo:<div class=highlight-wrapper><div class=highlight-toolbar><span class=item><span class=label>Lang:</span>
<span class=name>shell</span>
</span><button class="item right outline brighter hide js-btn-copy-code">Copy</button></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>    <span class=nv>USE</span><span class=o>=</span>security-key emerge -aq net-misc/openssh</span></span></code></pre></div></div></li></ul><p>Then you unlock the ability to create new ssh-keys with the <code>*-sk</code> suffix.
You also probably want to add the options to make the key resident on the key
and to require authorization every time a la:</p><div class=highlight-wrapper><div class=highlight-toolbar><span class=item><span class=label>Lang:</span>
<span class=name>shell</span>
</span><button class="item right outline brighter hide js-btn-copy-code">Copy</button></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl> ssh-keygen -t ecdsa-sk -O resident -O <span class=nv>application</span><span class=o>=</span>ssh:text -O verify-required</span></span></code></pre></div></div><p>Note that the &ldquo;text&rdquo; portion can be anything</p><h2 id=important-links>Important Links
<a href=#important-links class=hanchor arialabel=Anchor></a></h2><p>Start with the gentoo setup instructions, as they&rsquo;re consistently decent.</p><ul><li><a href=https://wiki.gentoo.org/wiki/YubiKey>Yubikey on Gentoo</a></li><li><a href=https://wiki.gentoo.org/wiki/YubiKey/GPG>Yubikey/GPG</a></li><li><a href=https://wiki.gentoo.org/wiki/YubiKey/SSH>Yubikey/GPG + SSH</a></li><li><a href=https://wiki.gentoo.org/wiki/Project:Infrastructure/Generating_GLEP_63_based_OpenPGP_keys#How_to_generate_the_GLEP_63-compliant_OpenPGP_key>Gentoo Dev GPG guide</a></li><li><a href=https://wiki.gentoo.org/wiki/GnuPG>Gentoo GnuPG</a></li></ul><p>Then follow them up with the actual <a href=https://developers.yubico.com/SSH/Securing_SSH_with_FIDO2.html>YubiKey Docs</a></p><p>Adding gpg to git commits:</p><ul><li><a href=https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work>https://git-scm.com/book/en/v2/Git-Tools-Signing-Your-Work</a></li></ul></div><footer class=post-footer></footer></article></main><footer class=site-footer><p class=buildinfo><time datetime="2024-01-13 19:39:33 IST">Site built on: 2024-01-13 19:39:33 IST</time></p><div class=copyright><p>Â© lockbox
2024</p><nav class=navbar><ul class=navbar__list><li><a href=https://stumbl.ing/posts/index.xml>RSS</a></li><li><a href=https://stumbl.ing/sitemap.xml>Sitemap</a></li></ul></nav></div><p class=themeinfo>Powered by <a href=https://gohugo.io>Hugo</a>, using theme <a href=https://manid2.github.io/hugo-xterm/>Hugo Xterm</a>.</p></footer></div></div><script type=text/javascript src=/bundle.min.js></script></body></html>